
# SecureDataSharing

–í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, —Ä–æ–∑—Ä–æ–±–ª–µ–Ω–∏–π –¥–ª—è –∑–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è –±–µ–∑–ø–µ—á–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è, —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –∫–æ–Ω—Ç—Ä–æ–ª—å–æ–≤–∞–Ω–æ–≥–æ –æ–±–º—ñ–Ω—É —Ç–µ–∫—Å—Ç–æ–≤–æ—é —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é —Ç–∞ —Ñ–∞–π–ª–∞–º–∏ –º—ñ–∂ –¥–æ–≤—ñ—Ä–µ–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏ –∑ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è–º —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∫–ª—é—á—ñ–≤.


# üìò –°–∏—Å—Ç–µ–º–∞ –∑–∞—Ö–∏—â–µ–Ω–æ–≥–æ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è —ñ –æ–±–º—ñ–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –º—ñ–∂ –¥–æ–≤—ñ—Ä–µ–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏

> –í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫, –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –∑–±–µ—Ä–µ–∂–µ–Ω–æ—ó —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—ó —ñ –æ–±–º—ñ–Ω—É —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—î—é –º—ñ–∂ –¥–æ–≤—ñ—Ä–µ–Ω–∏–º–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º–∏.

---

## üë§ –ê–≤—Ç–æ—Ä

- **–ü–Ü–ë**: –ì–æ—Ñ–Ω–µ—Ä –û–ª–µ–∫—Å–∞–Ω–¥—Ä
- **–ì—Ä—É–ø–∞**: –§–ï–Ü-43
- **–ö–µ—Ä—ñ–≤–Ω–∏–∫**: –§—Ä–∞–Ω—ñ–≤ –í–æ–ª–æ–¥–∏–º–∏—Ä, –¥–æ—Ü–µ–Ω—Ç
- **–î–∞—Ç–∞ –≤–∏–∫–æ–Ω–∞–Ω–Ω—è**: [05.06.2025]

---

## üìå –ó–∞–≥–∞–ª—å–Ω–∞ —ñ–Ω—Ñ–æ—Ä–º–∞—Ü—ñ—è

- **–¢–∏–ø –ø—Ä–æ—î–∫—Ç—É**: –í–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫
- **–ú–æ–≤–∞ –ø—Ä–æ–≥—Ä–∞–º—É–≤–∞–Ω–Ω—è**: C#
- **–§—Ä–µ–π–º–≤–æ—Ä–∫–∏ / –ë—ñ–±–ª—ñ–æ—Ç–µ–∫–∏**: ASP.NET Core MVC + Razor Pages, Entity Framework Core, SQL Server 2022, ASP.NET Core Identity, AspNetCore.Cryptography, System.Security.Cryptography, Bootstrap5, HTML, CSS, JavaScript, jQuery, SendGrid. 

---

## üß† –û–ø–∏—Å —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª—É
1. üîê –ë–µ–∑–ø–µ—á–Ω–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è:
  - –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∑ –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ—é –≥–µ–Ω–µ—Ä–∞—Ü—ñ—î—é —ñ–Ω–¥–∏–≤—ñ–¥—É–∞–ª—å–Ω–æ—ó RSA-–ø–∞—Ä–∏ –∫–ª—é—á—ñ–≤ –¥–ª—è –∫–æ–∂–Ω–æ–≥–æ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞.
  - –ó–∞—Ö–∏—Å—Ç –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ RSA-–∫–ª—é—á–∞ –ø–∞—Ä–æ–ª–µ–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ (PBKDF2 + AES).
  - –í—Ö—ñ–¥ –≤ —Å–∏—Å—Ç–µ–º—É –∑ –ø–µ—Ä–µ–≤—ñ—Ä–∫–æ—é –ø–∞—Ä–æ–ª—è.
  - –ü—ñ–¥—Ç—Ä–∏–º–∫–∞ –¥–≤–æ—Ñ–∞–∫—Ç–æ—Ä–Ω–æ—ó –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó (2FA) —á–µ—Ä–µ–∑ –¥–æ–¥–∞—Ç–∫–∏-–∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ç–æ—Ä–∏ Microsoft Authenticator, Google Authenticator –∑ QR-–∫–æ–¥–∞–º–∏ —Ç–∞ –∫–æ–¥–∞–º–∏ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è.
2. üîë –ö–µ—Ä—É–≤–∞–Ω–Ω—è –æ–±–ª—ñ–∫–æ–≤–∏–º –∑–∞–ø–∏—Å–æ–º —Ç–∞ –≤–ª–∞—Å–Ω–∏–º–∏ –∫–ª—é—á–∞–º–∏:
  - –ë–µ–∑–ø–µ—á–Ω–∞ –∑–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è –∑ –ø–µ—Ä–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ RSA-–∫–ª—é—á–∞.
  - –í—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –∑–∞–±—É—Ç–æ–≥–æ –ø–∞—Ä–æ–ª—è —á–µ—Ä–µ–∑ email (–∑ –æ—á–∏—â–µ–Ω–Ω—è–º —Å—Ç–∞—Ä–∏—Ö –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –∫–ª—é—á—ñ–≤).
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤—É –ø–∞—Ä—É RSA-–∫–ª—é—á—ñ–≤ –ø—ñ—Å–ª—è —Å–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è.
  - –ü–æ–≤–Ω–µ –≤–∏–¥–∞–ª–µ–Ω–Ω—è –∞–∫–∞—É–Ω—Ç—É –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –∑ –æ—á–∏—â–µ–Ω–Ω—è–º —É—Å—ñ—Ö –ø–æ–≤'—è–∑–∞–Ω–∏—Ö –¥–∞–Ω–∏—Ö —Ç–∞ –¥–æ–∑–≤–æ–ª—ñ–≤.
3. üíæ –ó–∞—Ö–∏—â–µ–Ω–µ –∑–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö (—Ç–µ–∫—Å—Ç—ñ–≤ —Ç–∞ —Ñ–∞–π–ª—ñ–≤):
  - –°—Ç–≤–æ—Ä–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç–æ–≤–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è —Ñ–∞–π–ª—ñ–≤.
  - –ö–æ–Ω–≤–µ—Ä—Ç–Ω–µ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è: –≤–º—ñ—Å—Ç —à–∏—Ñ—Ä—É—î—Ç—å—Å—è —É–Ω—ñ–∫–∞–ª—å–Ω–∏–º —Å–∏–º–µ—Ç—Ä–∏—á–Ω–∏–º –ö–ª—é—á–µ–º –®–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –î–∞–Ω–∏—Ö (DEK - AES), –∞ —Å–∞–º DEK —à–∏—Ñ—Ä—É—î—Ç—å—Å—è –∞—Å–∏–º–µ—Ç—Ä–∏—á–Ω–æ –ø—É–±–ª—ñ—á–Ω–∏–º RSA-–∫–ª—é—á–µ–º –≤–ª–∞—Å–Ω–∏–∫–∞.
  - –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–æ–≥–æ –≤–º—ñ—Å—Ç—É (EncryptedContentBytes) —Ç–∞ –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω–∏—Ö –¥–∞–Ω–∏—Ö (InitializationVector, EncryptedDekForOwner) –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö SQL Server 2022.
  - –û–±–º–µ–∂–µ–Ω–Ω—è –Ω–∞ —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—ñ–≤, —â–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É—é—Ç—å—Å—è –¥–æ 2 –ì–ë.
4. üëÅÔ∏è –î–æ—Å—Ç—É–ø —Ç–∞ —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏—Ö:
  - –í–ª–∞—Å–Ω–∏–∫–∏ –º–æ–∂—É—Ç—å –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ —Å–≤–æ—ó —Ä–æ–∑—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è –ø–∞—Ä–æ–ª–µ–º.
5. ü§ù –ë–µ–∑–ø–µ—á–Ω–∏–π –æ–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏:
  - –í–ª–∞—Å–Ω–∏–∫ –º–æ–∂–µ –Ω–∞–¥–∞–≤–∞—Ç–∏ –¥–æ—Å—Ç—É–ø –¥–æ —Å–≤–æ—ó—Ö –¥–∞–Ω–∏—Ö —ñ–Ω—à–∏–º –∑–∞—Ä–µ—î—Å—Ç—Ä–æ–≤–∞–Ω–∏–º –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞–º.
  - DEK —à–∏—Ñ—Ä—É—î—Ç—å—Å—è –ø—É–±–ª—ñ—á–Ω–∏–º RSA-–∫–ª—é—á–µ–º –æ—Ç—Ä–∏–º—É–≤–∞—á–∞ —Ç–∞ –∑–±–µ—Ä—ñ–≥–∞—î—Ç—å—Å—è —É —Ç–∞–±–ª–∏—Ü—ñ (DataPermissions).
  - –û—Ç—Ä–∏–º—É–≤–∞—á –º–æ–∂–µ –ø–µ—Ä–µ–≥–ª—è–¥–∞—Ç–∏ —Ç–∞ –∑–∞–≤–∞–Ω—Ç–∞–∂—É–≤–∞—Ç–∏ –¥–∞–Ω—ñ, –ø—ñ—Å–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è —Å–≤–æ—ó–º –ø–∞—Ä–æ–ª–µ–º.
  - –ú–æ–∂–ª–∏–≤—ñ—Å—Ç—å —Å–∫–∞—Å—É–≤–∞–Ω–Ω—è –Ω–∞–¥–∞–Ω–æ–≥–æ –¥–æ—Å—Ç—É–ø—É –≤–ª–∞—Å–Ω–∏–∫–æ–º.
6. ‚úèÔ∏è –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è —Ç–∞ –í–∏–¥–∞–ª–µ–Ω–Ω—è –î–∞–Ω–∏—Ö:
  - –†–µ–¥–∞–≥—É–≤–∞–Ω–Ω—è –Ω–∞–∑–≤–∏ —Ç–∞ –≤–º—ñ—Å—Ç —Ç–µ–∫—Å—Ç—É –≤–ª–∞—Å–Ω–∏–∫–æ–º.
  - –ü–æ–≤—Ç–æ—Ä–Ω–µ –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–Ω—è DEK –ø—Ä–∏ —Ä–µ–¥–∞–≥—É–≤–∞–Ω–Ω—ñ –≤–º—ñ—Å—Ç—É.
  - –í–∏–¥–∞–ª–µ–Ω–Ω—è –¥–∞–Ω–∏—Ö –≤–ª–∞—Å–Ω–∏–∫–æ–º (–∑ –≤–∏–¥–∞–ª–µ–Ω–Ω—è–º –≤—Å—ñ—Ö –Ω–∞–¥–∞–Ω–∏—Ö –¥–æ–∑–≤–æ–ª—ñ–≤).
7. üìú –ê—É–¥–∏—Ç –î—ñ–π:
  - –õ–æ–≥—É–≤–∞–Ω–Ω—è –∫–ª—é—á–æ–≤–∏—Ö –¥—ñ–π –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á—ñ–≤ —Ç–∞ –ø–æ–¥—ñ–π –±–µ–∑–ø–µ–∫–∏ –≤ –±–∞–∑—É –¥–∞–Ω–∏—Ö.
8. üé® –Ü–Ω—Ç–µ—Ä—Ñ–µ–π—Å –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞:
  - –û–ø–∏—Å –∑–∞—Å—Ç–æ—Å—É–Ω–∫—É –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ –Ω–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ.
  - –ü–æ—à—É–∫, —Å–æ—Ä—Ç—É–≤–∞–Ω–Ω—è, –ø–∞–≥—ñ–Ω–∞—Ü—ñ—è –¥–ª—è —Å–ø–∏—Å–∫—ñ–≤ –¥–∞–Ω–∏—Ö.
  - –î–∏–Ω–∞–º—ñ—á–Ω—ñ –µ–ª–µ–º–µ–Ω—Ç–∏: –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª—ñ–≤ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —Ç–∞ –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—é.
  - –û–ø–∏—Å –∑–∞–ø–∏—Å—ñ–≤: –≤–ª–∞—Å–Ω–∏–∫ –∑–∞–ø–∏—Å—É, —Ä–æ–∑–º—ñ—Ä —Ñ–∞–π–ª—ñ–≤, –¥–∞—Ç–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É.
---

## üß± –û–ø–∏—Å –æ—Å–Ω–æ–≤–Ω–∏—Ö –∫–ª–∞—Å—ñ–≤ / —Ñ–∞–π–ª—ñ–≤

| –ö–ª–∞—Å / –§–∞–π–ª     | –ü—Ä–∏–∑–Ω–∞—á–µ–Ω–Ω—è |
|----------------|-------------|
| `ApplicationUser.cs (Models/)`      | –ó–±–µ—Ä—ñ–≥–∞—î –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω—ñ –∫–ª—é—á—ñ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞ |
| `StoredData.cs (Models/)`    | –ó–±–µ—Ä–µ–∂–µ–Ω–Ω—è —Ç–µ–∫—Å—Ç—É/—Ñ–∞–π–ª—ñ–≤, –≤–∫–ª—é—á–∞—é—á–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–π –≤–º—ñ—Å—Ç |
| `DataPermission.cs (Models/)` | –ó–±–µ—Ä—ñ–≥–∞–Ω–Ω—è –¥–æ–∑–≤–æ–ª—ñ–≤ –Ω–∞ –æ–±–º—ñ–Ω –¥–∞–Ω–∏–º–∏ |
| `AuditLog.cs (Models/)` | –ó–∞–ø–∏—Å–∏ –∞—É–¥–∏—Ç—É |
| `CryptographyService.cs (Services/)` | –Ü–Ω–∫–∞–ø—Å—É–ª—é—î –≤—Å—é –∫—Ä–∏–ø—Ç–æ–≥—Ä–∞—Ñ—ñ—á–Ω—É –ª–æ–≥—ñ–∫—É (–≥–µ–Ω–µ—Ä–∞—Ü—ñ—è –∫–ª—é—á—ñ–≤, —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è, PBKDF2, PEM). |
| `AuditService.cs (Services/)` | –ó–∞–ø–∏—Å—É—î –ø–æ–¥—ñ—ó –∞—É–¥–∏—Ç—É |
| `EmailSender.cs (Services/)` | IEmailSender<ApplicationUser> –¥–ª—è –Ω–∞–¥—Å–∏–ª–∞–Ω–Ω—è email |
| `DataStorageController.cs (Controllers/)` | –û—Å–Ω–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª–µ—Ä –¥–ª—è –∫–µ—Ä—É–≤–∞–Ω–Ω—è –¥–∞–Ω–∏–º–∏ |
| `Register.cshtml.cs` | –†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–∫–ª—é—á–∞—é—á–∏ –≥–µ–Ω–µ—Ä–∞—Ü—ñ—é RSA-–∫–ª—é—á—ñ–≤. |
| `ChangePassword.cshtml.cs` | –ó–º—ñ–Ω–∞ –ø–∞—Ä–æ–ª—è –∑ –ø–µ—Ä–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è–º –ø—Ä–∏–≤–∞—Ç–Ω–æ–≥–æ –∫–ª—é—á–∞. |
| `ResetPassword.cshtml.cs` | –°–∫–∏–¥–∞–Ω–Ω—è –ø–∞—Ä–æ–ª—è –∑ –æ—á–∏—â–µ–Ω–Ω—è–º –∫–ª—é—á—ñ–≤. |
| `ManageEncryptionKeys.cshtml.cs` | –ì–µ–Ω–µ—Ä–∞—Ü—ñ—è –Ω–æ–≤–∏—Ö –∫–ª—é—á—ñ–≤ –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–µ–º. |
| `PersonalData.cshtml.cs` | –°—Ç–æ—Ä—ñ–Ω–∫–∞ –ø–µ—Ä—Å–æ–Ω–∞–ª—å–Ω–∏—Ö –¥–∞–Ω–∏—Ö |

---

## ‚ñ∂Ô∏è –Ø–∫ –∑–∞–ø—É—Å—Ç–∏—Ç–∏ –ø—Ä–æ—î–∫—Ç "–∑ –Ω—É–ª—è"

### 1. –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –ù–µ–æ–±—Ö—ñ–¥–Ω–æ–≥–æ –ü—Ä–æ–≥—Ä–∞–º–Ω–æ–≥–æ –ó–∞–±–µ–∑–ø–µ—á–µ–Ω–Ω—è

- .NET 8 SDK: (–ü–æ—Å–∏–ª–∞–Ω–Ω—è –Ω–∞ –æ—Ñ—ñ—Ü—ñ–π–Ω–∏–π —Å–∞–π—Ç)
- Visual Studio 2022 Community Edition —Ä–∞–∑–æ–º –∑ Workloads `ASP.NET and web development`.
- SQL Server 2022 Express Edition. –ü—ñ–¥ —á–∞—Å –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –≤—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å —ñ–º'—è - –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ `SQLEXPRESS01`.
- SQL Server Management Studio (SSMS).

### 2. –ö–ª–æ–Ω—É–≤–∞–Ω–Ω—è —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—é

```bash
git clone https://github.com/oleksandrhofner/SecureDataSharing
cd SecureDataSharing
```

### 3. –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –ë–∞–∑–∏ –î–∞–Ω–∏—Ö SQL Server 2022

  1. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∞—à –µ–∫–∑–µ–º–ø–ª—è—Ä SQL Server –∑–∞–ø—É—â–µ–Ω–æ.
  2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å SSMS —Ç–∞ –ø—ñ–¥–∫–ª—é—á—ñ—Ç—å—Å—è –¥–æ –≤–∞—à–æ–≥–æ –µ–∫–∑–µ–º–ø–ª—è—Ä–∞ (<pc_name>\SQLEXPRESS01).
  3. –£ SSMS —Å—Ç–≤–æ—Ä—ñ—Ç—å –Ω–æ–≤—É –ø–æ—Ä–æ–∂–Ω—é –±–∞–∑—É –¥–∞–Ω–∏—Ö –∑ –Ω–∞–∑–≤–æ—é `SecureDataSharingDB`.

### 4. –ö–æ–Ω—Ñ—ñ–≥—É—Ä–∞—Ü—ñ—è –ü—Ä–æ—î–∫—Ç—É

  1. –í—ñ–¥–∫—Ä–∏–π—Ç–µ —Ñ–∞–π–ª —Ä—ñ—à–µ–Ω–Ω—è `SecureDataSharing.sln` —É Visual Studio.
  2. –†—è–¥–æ–∫ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è: –í—ñ–¥–∫—Ä–∏–π—Ç–µ `appsettings.json`. –û–Ω–æ–≤—ñ—Ç—å DefaultConnection —É —Å–µ–∫—Ü—ñ—ó `ConnectionStrings`, —â–æ–± –≤—ñ–Ω –≤–∫–∞–∑—É–≤–∞–≤ –Ω–∞ –≤–∞—à SQL Server —Ç–∞ –±–∞–∑—É `SecureDataSharingDB`:
  ```
  "DefaultConnection": "Server=<pc_name>\\SQLEXPRESS01;Database=SecureDataSharingDB;Trusted_Connection=True;MultipleActiveResultSets=true;Encrypt=false"
  ```

3. User Secrets (–¥–ª—è API –∫–ª—é—á—ñ–≤): –Ø–∫—â–æ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î—Ç—å—Å—è —Ä–µ–∞–ª—å–Ω–∏–π EmailSender (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, SendGrid), –Ω–∞–ª–∞—à—Ç—É–π—Ç–µ API –∫–ª—é—á —á–µ—Ä–µ–∑ "Manage User Secrets":
```
{
  "SendGridKey": "SENDGRID_API_KEY"
}
```

### 5. –°—Ç–≤–æ—Ä–µ–Ω–Ω—è –°—Ö–µ–º–∏ –ë–∞–∑–∏ –î–∞–Ω–∏—Ö (–ú—ñ–≥—Ä–∞—Ü—ñ—ó EF Core)

  1. –£ Visual Studio –≤—ñ–¥–∫—Ä–∏–π—Ç–µ Package Manager Console.
  2. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –≤–∏–±—Ä–∞–Ω–æ –ø—Ä–æ—î–∫—Ç SecureDataSharing.
  3. –í–∏–∫–æ–Ω–∞–π—Ç–µ –∫–æ–º–∞–Ω–¥—É:
  ```
  Update-Database
  ```
---

### 6. –ó–±—ñ—Ä–∫–∞ —Ç–∞ –ó–∞–ø—É—Å–∫ –ó–∞—Å—Ç–æ—Å—É–Ω–∫—É

  1. –£ Visual Studio: `Build` -> `Rebuild Solution`.
  2. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ (`F5` –∞–±–æ –∫–Ω–æ–ø–∫–∞ "Play").
  3. –ü—Ä–∏ –ø–µ—Ä—à–æ–º—É –∑–∞–ø—É—Å–∫—É –º–æ–∂–µ –∑–Ω–∞–¥–æ–±–∏—Ç–∏—Å—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è, —â–æ–± –¥–æ–≤—ñ—Ä—è—Ç–∏ SSL-—Å–µ—Ä—Ç–∏—Ñ—ñ–∫–∞—Ç–∞–º —Ä–æ–∑—Ä–æ–±–∫–∏.
  4. –ú–æ–∂–Ω–∞ –ø–µ—Ä–µ–≤—ñ—Ä—è—Ç–∏ –≤–µ—Å—å –¥–æ—Å—Ç—É–ø–Ω–∏–π —Ñ—É–Ω–∫—Ü—ñ–æ–Ω–∞–ª —Å–∏—Å—Ç–µ–º–∏.

## üñ±Ô∏è –Ü–Ω—Å—Ç—Ä—É–∫—Ü—ñ—è –¥–ª—è –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞

1. **–†–µ—î—Å—Ç—Ä–∞—Ü—ñ—è —Ç–∞ –í—Ö—ñ–¥:**
  - –ù–∞ –≥–æ–ª–æ–≤–Ω—ñ–π —Å—Ç–æ—Ä—ñ–Ω—Ü—ñ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "Register", –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–π—Ç–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä –ø–∞—Ä–æ–ª—ñ–≤.
  - –ü—ñ—Å–ª—è —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó —É–≤—ñ–π–¥—ñ—Ç—å, –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ —Å–≤—ñ–π email —Ç–∞ –ø–∞—Ä–æ–ª—å.
  - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ 2FA —É –ø—Ä–æ—Ñ—ñ–ª—ñ –¥–ª—è –ø—ñ–¥–≤–∏—â–µ–Ω–Ω—è –±–µ–∑–ø–µ–∫–∏.

2. **–°—Ç–≤–æ—Ä–µ–Ω–Ω—è –ó–∞–ø–∏—Å—É:**
  - –ü–µ—Ä–µ–π–¥—ñ—Ç—å —É –º–µ–Ω—é `New data`.
  - –í–∏–±–µ—Ä—ñ—Ç—å —Ç–∏–ø (Text/File), –≤–≤–µ–¥—ñ—Ç—å –Ω–∞–∑–≤—É, –≤–º—ñ—Å—Ç –∞–±–æ –∑–∞–≤–∞–Ω—Ç–∞–∂—Ç–µ —Ñ–∞–π–ª.
  - –í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è –∑–±–µ—Ä–µ–∂–µ–Ω–Ω—è —ñ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.
3. **–ü–µ—Ä–µ–≥–ª—è–¥ –∞–±–æ –ó–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—è:**
  - –£ –º–µ–Ω—é `My records` –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å –∫–Ω–æ–ø–∫—É `–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏` (–¥–ª—è —Ç–µ–∫—Å—Ç—É) –∞–±–æ `–ó–∞–≤–∞–Ω—Ç–∞–∂–∏—Ç–∏` (–¥–ª—è —Ñ–∞–π–ª—É).
  - –í–≤–µ–¥—ñ—Ç—å –ø–∞—Ä–æ–ª—å –¥–ª—è —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.
4.  **–û–±–º—ñ–Ω –î–∞–Ω–∏–º–∏:**
  - –£ —Å–ø–∏—Å–∫—É –≤–∞—à–∏—Ö –∑–∞–ø–∏—Å—ñ–≤ –Ω–∞—Ç–∏—Å–Ω—ñ—Ç—å "–ü–æ–¥—ñ–ª–∏—Ç–∏—Å—è".
  - –í–∏–±–µ—Ä—ñ—Ç—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, –≤–≤–µ–¥—ñ—Ç—å —Å–≤—ñ–π –ø–∞—Ä–æ–ª—å –¥–ª—è –ø—ñ–¥—Ç–≤–µ—Ä–¥–∂–µ–Ω–Ω—è.
5. **–ö–µ—Ä—É–≤–∞–Ω–Ω—è –ê–∫–∞—É–Ω—Ç–æ–º:**
  - –£ –ø—Ä–æ—Ñ—ñ–ª—ñ –º–æ–∂–Ω–∞ –∑–º—ñ–Ω–∏—Ç–∏ –ø–∞—Ä–æ–ª—å (—Å—Ç–∞—Ä—ñ –¥–∞–Ω—ñ –∑–∞–ª–∏—à–∞—Ç—å—Å—è –¥–æ—Å—Ç—É–ø–Ω–∏–º–∏).
  - –°–∫–∏–Ω—É—Ç–∏ –∑–∞–±—É—Ç–∏–π –ø–∞—Ä–æ–ª—å (–¥–æ—Å—Ç—É–ø –¥–æ —Å—Ç–∞—Ä–∏—Ö –¥–∞–Ω–∏—Ö –≤—Ç—Ä–∞—Ç–∏—Ç—å—Å—è, –ø–æ—Ç—Ä—ñ–±–Ω–æ –≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤—ñ –∫–ª—é—á—ñ).
  - –í–∏–¥–∞–ª–∏—Ç–∏ –∞–∫–∞—É–Ω—Ç (–≤—Å—ñ –¥–∞–Ω—ñ —Ç–∞ –¥–æ–∑–≤–æ–ª–∏ –±—É–¥—É—Ç—å –≤–∏–¥–∞–ª–µ–Ω—ñ).
---

## üì∑ –ü—Ä–∏–∫–ª–∞–¥–∏ / —Å–∫—Ä–∏–Ω—à–æ—Ç–∏

  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó –∑ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–º –ø–∞—Ä–æ–ª—ñ–≤.
    ![register](screenshots/register.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ —Å—Ç–≤–æ—Ä–µ–Ω–Ω—è –∑–∞–ø–∏—Å—É.
    ![create_data](screenshots/create_data.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∑–±–µ—Ä–µ–∂–µ–Ω–∏—Ö –¥–∞–Ω–∏—Ö.
    ![all_records](screenshots/all_records.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –¥–µ—Ç–∞–ª–µ–π –∑–∞–ø–∏—Å—É.
    ![details](screenshots/decrypted_data.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –Ω–∞–¥–∞–Ω–Ω—è –¥–æ—Å—Ç—É–ø—É.
    ![share_record](screenshots/share_record.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è 2FA.
    ![enable_2FA](screenshots/enable_2FA.png)
  - –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∫–µ—Ä—É–≤–∞–Ω–Ω—è –∫–ª—é—á–∞–º–∏ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è.
    ![encryption_keys](screenshots/encryption_keys.png)

---

## üß™ –ü—Ä–æ–±–ª–µ–º–∏ —ñ —Ä—ñ—à–µ–Ω–Ω—è

| –ü—Ä–æ–±–ª–µ–º–∞              | –†—ñ—à–µ–Ω–Ω—è                            |
|----------------------|------------------------------------|
| –ü–æ–º–∏–ª–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è –¥–æ –ë–î –ø—Ä–∏ –≤–∏–∫–æ–Ω–∞–Ω–Ω—ñ Update-Database | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ñ—Å—Ç—å —Ä—è–¥–∫–∞ –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è (DefaultConnection) —É —Ñ–∞–π–ª—ñ appsettings.json. –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ —ñ–º'—è —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–∫–ª–∞–¥, <pc_name>\\SQLEXPRESS01), –Ω–∞–∑–≤–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö (SecureDataSharingDB) —Ç–∞ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ –∞–≤—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó –≤–∫–∞–∑–∞–Ω—ñ –ø—Ä–∞–≤–∏–ª—å–Ω–æ, —ñ —â–æ —Å–ª—É–∂–±–∞ SQL Server –∑–∞–ø—É—â–µ–Ω–∞. |
| SqlException –∞–±–æ DbUpdateException –ø—Ä–∏ —Ä–µ—î—Å—Ç—Ä–∞—Ü—ñ—ó/–≤—Ö–æ–¥—ñ | –ù–∞–π—ñ–º–æ–≤—ñ—Ä–Ω—ñ—à–µ, —Ç–∞–±–ª–∏—Ü—ñ –Ω–µ –±—É–ª–∏ —Å—Ç–≤–æ—Ä–µ–Ω—ñ –≤ –±–∞–∑—ñ –¥–∞–Ω–∏—Ö. –ü–µ—Ä–µ–∫–æ–Ω–∞–π—Ç–µ—Å—è, —â–æ –∫–æ–º–∞–Ω–¥—É Update-Database –±—É–ª–æ —É—Å–ø—ñ—à–Ω–æ –≤–∏–∫–æ–Ω–∞–Ω–æ –≤ Package Manager Console –±–µ–∑ –ø–æ–º–∏–ª–æ–∫. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ –Ω–∞—è–≤–Ω—ñ—Å—Ç—å —Ç–∞–±–ª–∏—Ü—å (AspNetUsers, StoredDatas) —É –≤–∞—à—ñ–π –±–∞–∑—ñ —á–µ—Ä–µ–∑ SSMS. |
| CryptographicException: Padding is invalid... –ø—Ä–∏ —Ä–æ–∑—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—ñ | –û–∑–Ω–∞—á–∞—î, —â–æ –∫–ª—é—á, –≤–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω–∏–π –¥–ª—è —Ä–æ–∑—à–∏—Ä—Ñ—É–≤–∞–Ω–Ω—è, –Ω–µ –∑–±—ñ–≥–∞—î—Ç—å—Å—è –∑ –∫–ª—é—á–µ–º, —è–∫–∏–º –¥–∞–Ω—ñ –±—É–ª–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ. –ü–µ—Ä–µ–≤—ñ—Ä—Ç–µ, —á–∏ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –≤–∏ –≤–≤–æ–¥–∏—Ç–µ –ø–æ—Ç–æ—á–Ω–∏–π –ø–∞—Ä–æ–ª—å –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á–∞, —Ç–∞ —á–∏ —ñ–¥–µ–Ω—Ç–∏—á–Ω—ñ –ø–∞—Ä–∞–º–µ—Ç—Ä–∏ (–æ—Å–æ–±–ª–∏–≤–æ –∫—ñ–ª—å–∫—ñ—Å—Ç—å —ñ—Ç–µ—Ä–∞—Ü—ñ–π) —É —Ñ—É–Ω–∫—Ü—ñ—ó PBKDF2 –¥–ª—è —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è —Ç–∞ –¥–µ—à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è. |
| –ü–æ–º–∏–ª–∫–∞ OutOfMemoryException –ø—Ä–∏ –∑–∞–≤–∞–Ω—Ç–∞–∂–µ–Ω–Ω—ñ –≤–µ–ª–∏–∫–æ–≥–æ —Ñ–∞–π–ª—É | –ü–æ—Ç–æ—á–Ω–∞ —Ä–µ–∞–ª—ñ–∑–∞—Ü—ñ—è –∑—á–∏—Ç—É—î –≤–µ—Å—å —Ñ–∞–π–ª –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É –ø–∞–º'—è—Ç—å. –î–ª—è —Ç–µ—Å—Ç—É–≤–∞–Ω–Ω—è –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É–π—Ç–µ —Ñ–∞–π–ª–∏ –º–µ–Ω—à–æ–≥–æ —Ä–æ–∑–º—ñ—Ä—É –¥–æ 2 –ì–ë. |
| –ü–æ–º–∏–ª–∫–∞ Unable to find package... –ø—Ä–∏ –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ñ NuGet –ø–∞–∫–µ—Ç—ñ–≤     | –ü–µ—Ä–µ–≤—ñ—Ä–∏—Ç–∏ –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –¥–∂–µ—Ä–µ–ª –ø–∞–∫–µ—Ç—ñ–≤ —É Visual Studio (Tools -> NuGet Package Manager -> Package Manager Settings -> Package Sources). –ü–µ—Ä–µ–∫–æ–Ω–∞—Ç–∏—Å—è, —â–æ –¥–∂–µ—Ä–µ–ª–æ nuget.org |
| –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—ñ–¥–Ω–æ–≤–∏–≤ –ø–∞—Ä–æ–ª—å —ñ –Ω–µ –º–æ–∂–µ —Å—Ç–≤–æ—Ä—é–≤–∞—Ç–∏ –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω—ñ –¥–∞–Ω—ñ | –ü—ñ—Å–ª—è –≤—ñ–¥–Ω–æ–≤–ª–µ–Ω–Ω—è –ø–∞—Ä–æ–ª—è —Å—Ç–∞—Ä—ñ –∫–ª—é—á—ñ –æ—á–∏—â–∞—é—Ç—å—Å—è. –ö–æ—Ä–∏—Å—Ç—É–≤–∞—á –ø–æ–≤–∏–Ω–µ–Ω –ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ —Å—Ç–æ—Ä—ñ–Ω–∫—É –∫–µ—Ä—É–≤–∞–Ω–Ω—è –ø—Ä–æ—Ñ—ñ–ª–µ–º -> "–ö–ª—é—á—ñ —à–∏—Ñ—Ä—É–≤–∞–Ω–Ω—è" —Ç–∞ –∑–≥–µ–Ω–µ—Ä—É–≤–∞—Ç–∏ –Ω–æ–≤—É –ø–∞—Ä—É –∫–ª—é—á—ñ–≤, –ø—ñ–¥—Ç–≤–µ—Ä–¥–∏–≤—à–∏ –æ–ø–µ—Ä–∞—Ü—ñ—é —Å–≤–æ—ó–º –Ω–æ–≤–∏–º –ø–∞—Ä–æ–ª–µ–º. |

---

## üßæ –í–∏–∫–æ—Ä–∏—Å—Ç–∞–Ω—ñ –¥–∂–µ—Ä–µ–ª–∞ / –ª—ñ—Ç–µ—Ä–∞—Ç—É—Ä–∞

  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Microsoft ASP.NET Core [Microsoft](docs.microsoft.com/aspnet/core)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è Entity Framework Core [Entity Framework Core](docs.microsoft.com/ef/core)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è ASP.NET Core Identity [ASP.NET Core Identity](docs.microsoft.com/aspnet/core/security/authentication/identity)
  - –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü—ñ—è –ø–æ System.Security.Cryptography [System.Security.Cryptography](https://learn.microsoft.com/en-us/dotnet/api/system.security.cryptography?view=net-9.0)
---



